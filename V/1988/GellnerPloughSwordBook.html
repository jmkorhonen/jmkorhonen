<!DOCTYPE html> 
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
    <title>GellnerPloughSwordBook</title>

    <meta name="generator" content="Zim Zim 0.73.5, based on the Ecodiv-responsive template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:300&subset=latin,greek,latin-ext' rel='stylesheet' type='text/css'> -->

    <!-- Scripts -->
    <script type='text/javascript' src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.1.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.3/jquery.mobile-1.4.3.min.js"></script>
    
    <!-- !! Different stylesheets for different screen sizes. Adapt to your likening-->
    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.3/jquery.mobile-1.4.3.min.css" />
    <link rel="stylesheet" media="screen and (min-width: 741px)" href=..\..\_resources\style.css>
    <link rel="stylesheet" media="screen and (max-width: 740px)" href=..\..\_resources\style_mobile.css>

</head>
<body onload="$.mobile.silentScroll(window.scrollY);" <!-- fix for jquery-mobile always scrolling to top at loading, see https://stackoverflow.com/questions/15255719/jquery-mobile-prevent-scroll-to-top-before-page-transition --> > 
    
    <!-- See the Zim help file on templates for options -->    <div class="container">
        <div data-role="page" class="ui-responsive-panel">
            
            <!-- Header / title -->
    
            <div data-role="header" data-position="fixed">
                <a href="#nav-panel" data-icon="bars">Table of content</a> 
                
                <!-- !! Fill in the website title, by default: Notebook -->
                <h1>Notebook - GellnerPloughSwordBook</h1> 
                
                <!-- !! Optionally, create button with custom link. To apply uncomment the next line and fill in the link (and optionally change the button and text)) -->
                <!-- <a href="http://my.website.org" data-icon="home">Main website</a> -->
                
            </div>
            
            <!-- Warning message if java script is disabled -->
            <noscript>
                <div style="border: 1px solid purple; padding: 10px">
                    <span style="color:red">This page is best viewed with JavaScript enabled!</span>
                </div>
            </noscript>

            <!-- Page content -->
            
            <div data-role="content" class="content">
                    <h1>GellnerPloughSwordBook <a name='V:1988:GellnerPloughSwordBook'></a></h1>
    
                    <p>
Created Monday 14 December 2020<br>
<span class="zim-tag">@2020</span> <span class="zim-tag">@book</span>
</p>

<p>
Gellner, Ernest (1988). <i>Plough, Sword, and Book: The Structure of Human History.</i> London: Collins Harvill.
</p>

<p>
<a href="file:///C:/Users/OWNER/Google%20Drive/Calibre_library/Ernest%20Gellner/Plough%2C%20Sword%2C%20and%20Book_%20The%20Struct%20(2098)/Plough%2C%20Sword%2C%20and%20Book_%20The%20St%20-%20Ernest%20Gellner.pdf" title="file:///C:/Users/OWNER/Google%20Drive/Calibre_library/Ernest%20Gellner/Plough,%20Sword,%20and%20Book_%20The%20Struct%20(2098)/Plough,%20Sword,%20and%20Book_%20The%20St%20-%20Ernest%20Gellner.pdf" class="file">file:///C:/Users/OWNER/Google%20Drive/Calibre_library/Ernest%20Gellner/Plough,%20Sword,%20and%20Book_%20The%20Struct%20(2098)/Plough,%20Sword,%20and%20Book_%20The%20St%20-%20Ernest%20Gellner.pdf</a>
</p>

<p>
Summary of argument
</p>

<p>
<ul>
<li>työnjako ei ole ihmisille ominaista vaan sitä tapahtuu eläimillä ja hyönteisillä
<ul>
<li>mikä on erityistä on ihmisten työnjaon moninaisuus eri yhteiskunnissa</li>
<li>kultturillinen erikoistuminen, jota ei ole selitettävissä geneettisesti</li>
<li>genetiikka tietysti vaikuttaa</li>
<li>ihmisyhteisön erityispiirteet välittyvät mm. kulttuurin välityksellä
<ul>
<li>KULTTUURI määriteltävissä joukoksi konsepteja, joiden puitteissa tietty populaatio toimii ja ajattelee. Konsepti on jaettu tapa ryhmitellä kokemuksia, toimia ja reagoida, ja sillä on yleensä nimi. Kulttuuri on järjestelmä, eikä vain konseptien kokoelma: kulttuurin muodostavat ajatukset ovat toisistaan riippuvia ja yhteydessä toisiinsa monilla monimutkaisilla tavoilla, ja on uskottavaa olettaa, että ne eivät voisi esiintyä erillisinä. Kulttuurien ei tarvitse olla konsistentteja tai koherentteja järjestelmiä millään kriteerillä (s. 274)</li>
</ul>
</li>
<li>kulttuuri ei kuitenkaan ole sama asia kuin se, miten sosiaalinen järjestys toisintaa itseään; kulttuuri on yksi tapa, mutta muitakin on
<ul>
<li>antropologit erottelevat rakenteiden ja kulttuurin välillä</li>
<li>jos vain kulttuuri olisi vastuussa sosiaalisen muodon toisintumisesta, se tarkoittaisi samaa kuin että VAIN konseptit rajoittavat ihmisiä toimimasta siten kuin he toimivat.
<ul>
<li>tämä on väärä näkemys, ja täysin virheellinen Idealismin muoto</li>
</ul>
</li>
<li>pakottaminen on yksi tapa toisintaa kulttuuria; se ei ole automaattista</li>
<li>Durkheimiläinen hypoteesi: rituaalien tärkeä rooli on tärkeiden konseptien sisäistämisessä, ja juuri nämä rakentavat yhteisölle sen jaetut ideat ja vastuut
<ul>
<li>tietyssä mielessä jokaisella konseptilla on rituaali ja se on rituaali</li>
<li>mitä tärkeämpi konsepti, sitä tärkeämmät rituaalit </li>
</ul></li>
</ul></li>
</ul>
</li>
<li><u>Ihmiskunnan alku: kun joukko kädellisiä sai sen verran geneettistä muokkautuvuutta, että kulttuurilliset rajoitteet tulivat pakollisiksi; ts. kun genetiikka ei enää riittänyt rajoittamaan käyttäytymistä tarvittaviin rajoihin</u>
<ul>
<li>Potentiaalisesti rajatonta käyttäytymistä pitää rajoittaa joillakin rajoilla; näitä rajoja pitää ilmaista joillakin merkein; ja kieli muodostaa nämä merkit. Alussa oli vain kielto. Työnjaon periaate on historia niistä mekanismeista, joiden avulla diversiteetti saattoi kehittyä myös yhteisöjen sisällä.</li>
</ul>
</li>
<li>Ihmiskunnalla kolme fundamentaalia ekologista vaihetta: 
<ul>
<li>keräily</li>
<li>maanviljelys
<ul>
<li>varastoidun ylijäämän olemassaolo vaatii väistämättä jonkinlaista pakottamista tuon ylijäämän jakamisessa, ja sen puolustamista </li>
<li>väkivallasta tuli pakollista, ei vain valinnaista</li>
<li>ylijäämä yleensä johti monimutkaiseen sisäiseen erikoistumiseen</li>
<li>varaston olemassaolo johti suuriin eriarvoisuuksiin ja terävään stratifioitumiseen; tämä oli näiden yhteiskuntien yleisin piirre</li>
<li>yleisesti ottaen, ne myös inhoavat työtä: työ on pakollista, mutta arvovalta menee niille, jotka pakottavat, tai jotka manipuloivat signaaleja jotka kertovat pakottajille, miten toimia</li>
<li>tämä onkin aatelin yleisin konsepti</li>
<li>ei lieneisi mitään syytä miksi pakottamisen ja legitimisoinnin sekä rituaalin asiantuntijat eivät olisi samoja henkilöitä, ja joskus he ovat olleetkin; 
<ul>
<li>mutta hyvin usein he ovat olleet erilaisia: miekka on ehkä ollut hallitseva, mutta papit auttoivat kristallisoimaan koheesiota miekkamiesten välillä</li>
<li>he ratkaisevat riitoja ja mahdollistavat yhteistoiminna</li>
<li>joten roistot ja papit hallitsevat agraarista maailmaa</li>
</ul>
</li>
<li>mahdollisuus varastoida, organisoida ja välittää merkityksiä kirjoitustaidon avulla on yhtä tärkeää kuin vaurauden tuotanto ja varastointi
<ul>
<li>tekee mahdolliseksi paljon tehokkaamman yhteiskuntien, papistojen, ja doktriinin yhtenäistämisen ja keskittämisen</li>
<li>etuoikeutetussa asemassa olevien oma etu ja sosiaalisen järjestyksen toisintamisen sisäinen logiikka yhdessä varmistavat, että agraariyhteiskunta on kaiken kaikkiaan vakaa</li>
<li>turbulenssi johtaa vain sykliseen eikä fundamentaaliin muutokseen</li>
</ul>
</li>
<li>agraariyhteiskunta, kuten keräilijäyhteisökin, on konsepteja toimeenpaneva eikä tavoitteita tavoitteleva yhteiskunta
<ul>
<li>sen käsitykset totuudesta ovat normin noudattamista, eivät jonkin ulkopuolisen tosiasian toistamista</li>
<li>totuus on sille ideaalin täyttämistä
<ul>
<li>ideaali muodostuu moninaisista huolenaiheista</li>
</ul>
</li>
<li>täysin eri asia kuin totuus jonkin tietyn vaatimuksen tyydyttämisenä, kuten faktojen kasaamisena ja ennustamisena</li>
<li>totuus agro-lukutaitoisessa yhteisössä on oleellisesti eri asia kuin totuus tieteellis-teollisessa yhteisössä
<ul>
<li>mutta erikoistuneessa tuotannossa on tilaa instrumentaalille rationaalisuudelle</li>
</ul></li>
</ul>
</li>
<li>Miten muutos nykyiseen tapahtui?
<ul>
<li>useimmissa paikoissa ei tapahtunutkaan</li>
<li>kun se sitten tapahtui, vaikutukset olivat valtavia </li>
<li>kaikkien kolmen ihmistoiminnan sfäärien - kognition, pakottamisen ja tuotannon - täytyi olla samanaikaisesti epätavallisessa ja suosiollisessa tilassa
<ul>
<li>kognitio: siirtymä rituaalista doktriinin painottamiseen; yhden totuuden painottaminen johti visioon yhtenäistetystä, säännönmukaisesta maailmasta</li>
<li>käsitys yhtenäisestä säännönmukaisesta Luonnosta ja egalitaarinen geneerinen Järki johtivat, jonkin vaikeasti selitettävissä olevan ihmeen kautta, luonnon tehokkaaseen tutkimiseen ja käyttöönottoon</li>
</ul></li>
</ul></li>
</ul>
</li>
<li>teollisuus
<ul>
<li>funktionaalinen erikoistuminen</li>
<li>konseptien egalitarismi</li>
</ul></li>
</ul></li>
</ul>
</p>

<p>
Ernest Gellnerin periaate uskonnoista:
</p>

<p>
there shall not be privileged revelations: any explanation of anything must be capable of being investigated with the possibility of refutation
</p>

<p>
"Philosophical anthropology on the grandest scale. . . .Gellner has produced a sharp challenge to his colleagues and a thrilling book for the non-specialist. Deductive history on this scale cannot be proved right or wrong, but this is Gellner writing, incisive, iconoclastic, witty and expert. His scenario compels our attention."—Adam Kuper, New Statesman
</p>

<p>
"A thoughtful and lively meditation upon probably the greatest transformation in human history, upon the difficult problems it poses and the scant resources it has left us to solve them."—Charles Larmore, New Republic
</p>

<p>
<b>1. In the Beginning</b><br>
The Need for Philosophic History<br>
The Structure of History<br>
Trinitarianisms<br>
Production, Coercion, Cognition<br>
Which Way Will the Stone Age Vote Swing?<br>
The Suspect Witness<br>
<b>2. Community to Society</b><br>
The Cognitive Evolution of Mankind<br>
Multiple Sensitivities<br>
Generic Types of Strand<br>
Social and Logical Coherence<br>
The Terminus<br>
The Overall Plot<br>
<ol type="1" start="3">
<li>The Coming of the Other</li>
</ol>
Paths of Cognitive Transformation<br>
The Disembodied Word<br>
"Platonism"<br>
The Indirect Route<br>
The First Unification<br>
The Authority of Concepts<br>
Plato’s Sociological Mistakes<br>
<b>4. The Tension</b><br>
A Divine Order<br>
Church and State and their Separability<br>
Protestantism, Generic and Specific<br>
<b>5. Codification</b><br>
Reformation to Enlightenment<br>
The Sovreignty of Knowledge<br>
The Dethronement of the Concept<br>
Concept-Implementing and Instrumental Cultures<br>
The Enlightened Solution and its Problems<br>
The Age of Progress, or Operation Bookstrap<br>
<b>6. The Coercive Order and Its Erosion</b><br>
<u>Patterns of Power</u><br>
Conditions of the Exit<br>
General Summary<br>
<b>7. Production, Value and Validity</b><br>
The Economic Transformation<br>
<u>Production and Coercion</u><br>
The Three Stages of Economy<br>
The Ideological Transition to the Generalized Market<br>
The Re-Entry Problem<br>
The Circularity of Enlightened Reasoning<br>
Objectivity or Not?<br>
<b>8. The New Science</b><br>
The Concept of Culture and the Limits of Reason<br>
Egalitarianism<br>
What Next?<br>
<b>9. Self-Images</b><br>
Economic Power (Wealth as Lever)<br>
The New Coercive System<br>
The Two Running-Mates<br>
The Right-Wing Alternative<br>
Acorn or Gate<br>
The New Social Contract<br>
1945 and Some Recent Clauses in the Contract<br>
<b>10. Prospect</b><br>
The Division of Labour and Back Again<br>
The Future of Production<br>
The Future of Cognition<br>
<u>The Future of Coercion</u><br>
Summary of Argument<br>
Notes<br>
Index 
</p>

                    <br></br>
                    
                    <hr class='footnotes'>
                    <span class="backlinks">
                        <hr class='footnotes'>
                        <b>Backlinks:</b>
                        <a href='..\..\ZK\VALTA\Tiede_demokratiana.html'>ZK:VALTA:Tiede demokratiana</a>
                        
                        <a href='..\2015\WorkSexPower-Thompson\8_The_origins_of_belief,_salvation_religions\113_Gellnerin_periaate_uskonnosta.html'>V:2015:WorkSexPower-Thompson:8 The origins of belief, salvation religions:113 Gellnerin periaate uskonnosta</a>
                        <br /><br />
                    </span>
    
                <!-- !! The script will center all images. If you prefer the default (images at left delete these three lines -->    
                <script>
                    $( "img" ).wrap( "<div class='imgcenter'></div>" );
                </script>
    
                
            </div>
            
            <!-- Navigation panel -->
            
            <div data-role="panel" data-position-fixed="true" data-display="reveal" data-theme="a" id="nav-panel" data-dismissible="false">
                <div style="display:inline-block;">
                    
                    <!-- !! If you want to place your logo, uncomment the next section and fill in the link between the quotation marks after href if you want the logo to link to another page or website -->
                    <!-- <div id="logos" align="center">
                        <a title="your title" href="" target="_blank">
                            <img src=..\..\_resources\zim_logo.png style="border-style:none" align="right"></a>
                    </div> -->
                    
                    <div>
                        <!-- !! optionally.. add your custom search engine script -->
                        <a href="#header" data-rel="close" data-role="button" data-theme="a" data-icon="delete" data-inline="true">Close panel</a>
    
                        <!-- !! optionally.. add link to start page or index page. To do so, uncomment the next 2 lines and fill in the webpage name / url-->
                        <!-- <br></br>
                        <a href="./link-to-start-page.html">Name of page</a>-->
                        
                        <!-- Generate the links to other pages (between-pages table of contents -->
                        <ul>
<li><a href="..\..\index.html" title="INDEX" class="page">INDEX</a></li>
<li><a href="..\..\PLAN_B.html" title="PLAN B" class="page">PLAN B</a></li>
<li><a href="..\..\V.html" title="V" class="page">V</a>
<ul>
<li><a href="..\1846.html" title="1846" class="page">1846</a></li>
<li><a href="..\1852.html" title="1852" class="page">1852</a></li>
<li><a href="..\1854.html" title="1854" class="page">1854</a></li>
<li><a href="..\1858.html" title="1858" class="page">1858</a></li>
<li><a href="..\1861.html" title="1861" class="page">1861</a></li>
<li><a href="..\1864.html" title="1864" class="page">1864</a></li>
<li><a href="..\1888.html" title="1888" class="page">1888</a></li>
<li><a href="..\1910.html" title="1910" class="page">1910</a></li>
<li><a href="..\1920.html" title="1920" class="page">1920</a></li>
<li><a href="..\1921.html" title="1921" class="page">1921</a></li>
<li><a href="..\1922.html" title="1922" class="page">1922</a></li>
<li><a href="..\1925.html" title="1925" class="page">1925</a></li>
<li><a href="..\1926.html" title="1926" class="page">1926</a></li>
<li><a href="..\1928.html" title="1928" class="page">1928</a></li>
<li><a href="..\1933.html" title="1933" class="page">1933</a></li>
<li><a href="..\1934.html" title="1934" class="page">1934</a></li>
<li><a href="..\1944.html" title="1944" class="page">1944</a></li>
<li><a href="..\1946.html" title="1946" class="page">1946</a></li>
<li><a href="..\1947.html" title="1947" class="page">1947</a></li>
<li><a href="..\1949.html" title="1949" class="page">1949</a></li>
<li><a href="..\1950.html" title="1950" class="page">1950</a></li>
<li><a href="..\1952.html" title="1952" class="page">1952</a></li>
<li><a href="..\1954.html" title="1954" class="page">1954</a></li>
<li><a href="..\1956.html" title="1956" class="page">1956</a></li>
<li><a href="..\1958.html" title="1958" class="page">1958</a></li>
<li><a href="..\1959.html" title="1959" class="page">1959</a></li>
<li><a href="..\1966.html" title="1966" class="page">1966</a></li>
<li><a href="..\1967.html" title="1967" class="page">1967</a></li>
<li><a href="..\1969.html" title="1969" class="page">1969</a></li>
<li><a href="..\1970.html" title="1970" class="page">1970</a></li>
<li><a href="..\1972.html" title="1972" class="page">1972</a></li>
<li><a href="..\1973.html" title="1973" class="page">1973</a></li>
<li><a href="..\1975.html" title="1975" class="page">1975</a></li>
<li><a href="..\1976.html" title="1976" class="page">1976</a></li>
<li><a href="..\1977.html" title="1977" class="page">1977</a></li>
<li><a href="..\1978.html" title="1978" class="page">1978</a></li>
<li><a href="..\1980.html" title="1980" class="page">1980</a></li>
<li><a href="..\1981.html" title="1981" class="page">1981</a></li>
<li><a href="..\1982.html" title="1982" class="page">1982</a></li>
<li><a href="..\1983.html" title="1983" class="page">1983</a></li>
<li><a href="..\1984.html" title="1984" class="page">1984</a></li>
<li><a href="..\1985.html" title="1985" class="page">1985</a></li>
<li><a href="..\1986.html" title="1986" class="page">1986</a></li>
<li><a href="..\1987.html" title="1987" class="page">1987</a></li>
<li><a href="..\1988.html" title="1988" class="page">1988</a>
<ul>
<li><a href="./Basalla88.html" title="Basalla88" class="page">Basalla88</a></li>
<li><a href="./Biorcio88.html" title="Biorcio88" class="page">Biorcio88</a></li>
<li><a href="./Cowgill88.html" title="Cowgill88" class="page">Cowgill88</a></li>
<li><b>GellnerPloughSwordBook</b></li>
<li><a href="./RationalityPhilosophicalInquiry-Rescher.html" title="RationalityPhilosophicalInquiry-Rescher" class="page">RationalityPhilosophicalInquiry-Rescher</a></li>
<li><a href="./Tainter88.html" title="Tainter88" class="page">Tainter88</a></li>
</ul>
</li>
<li><a href="..\1989.html" title="1989" class="page">1989</a></li>
<li><a href="..\1990.html" title="1990" class="page">1990</a></li>
<li><a href="..\1991.html" title="1991" class="page">1991</a></li>
<li><a href="..\1992.html" title="1992" class="page">1992</a></li>
<li><a href="..\1993.html" title="1993" class="page">1993</a></li>
<li><a href="..\1994.html" title="1994" class="page">1994</a></li>
<li><a href="..\1995.html" title="1995" class="page">1995</a></li>
<li><a href="..\1996.html" title="1996" class="page">1996</a></li>
<li><a href="..\1997.html" title="1997" class="page">1997</a></li>
<li><a href="..\1998.html" title="1998" class="page">1998</a></li>
<li><a href="..\1999.html" title="1999" class="page">1999</a></li>
<li><a href="..\2000.html" title="2000" class="page">2000</a></li>
<li><a href="..\2001.html" title="2001" class="page">2001</a></li>
<li><a href="..\2002.html" title="2002" class="page">2002</a></li>
<li><a href="..\2003.html" title="2003" class="page">2003</a></li>
<li><a href="..\2004.html" title="2004" class="page">2004</a></li>
<li><a href="..\2005.html" title="2005" class="page">2005</a></li>
<li><a href="..\2006.html" title="2006" class="page">2006</a></li>
<li><a href="..\2007.html" title="2007" class="page">2007</a></li>
<li><a href="..\2008.html" title="2008" class="page">2008</a></li>
<li><a href="..\2009.html" title="2009" class="page">2009</a></li>
<li><a href="..\2010.html" title="2010" class="page">2010</a></li>
<li><a href="..\2011.html" title="2011" class="page">2011</a></li>
<li><a href="..\2012.html" title="2012" class="page">2012</a></li>
<li><a href="..\2013.html" title="2013" class="page">2013</a></li>
<li><a href="..\2014.html" title="2014" class="page">2014</a></li>
<li><a href="..\2015.html" title="2015" class="page">2015</a></li>
<li><a href="..\2016.html" title="2016" class="page">2016</a></li>
<li><a href="..\2017.html" title="2017" class="page">2017</a></li>
<li><a href="..\2018.html" title="2018" class="page">2018</a></li>
<li><a href="..\2019.html" title="2019" class="page">2019</a></li>
<li><a href="..\2020.html" title="2020" class="page">2020</a></li>
<li><a href="..\2021.html" title="2021" class="page">2021</a></li>
<li><a href="..\CONFS.html" title="CONFS" class="page">CONFS</a></li>
<li><a href="..\Databases.html" title="Databases" class="page">Databases</a></li>
<li><a href="..\Journals.html" title="Journals" class="page">Journals</a></li>
<li><a href="..\Literature_Review_-_Capitalism_and_Growth.html" title="Literature Review - Capitalism and Growth" class="page">Literature Review - Capitalism and Growth</a></li>
<li><a href="..\Unsorted.html" title="Unsorted" class="page">Unsorted</a></li>
</ul>
</li>
<li><a href="..\..\ZK.html" title="ZK" class="page">ZK</a></li>
</ul>


                        <!-- Current document's Table Of Contents placeholder and style, this table of content will be generated from headers in the document -->
                        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.css">
                        <style src="text/css">
                        .toc-link, .toc-list-item, .toc-list-item a {
                            /* Remove underlining for all toc entries */
                            text-decoration: none;
                        }
                        .toc-link:not(.is-active-link) {
                            /* Only leave the active toc entry (currently watched) as bold, else put text in normal weight */
                            font-weight: normal !important;
                        }
                        </style>
                        <nav class="toc js-toc relative z-1 transition--300 pa4" style="position: relative; max-width:inherit;">
                        </nav>

                        <!-- !! Optionally, button which brings the user to your contact form. To enable this, remove comment mark below and fill in the link between the quoation marks after href -->
                        <!--<br></br>
                        <a title="Contact us" data-icon="info" href="" data-role="button" target="_blank">Contact us</a>-->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Generate the Table Of Contents dynamically using javascript (via tocbot) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script>
    <script type="text/javascript">
    var content = document.body
    var headings = content.querySelectorAll('h1, h2, h3, h4, h5, h6, h7')
    var headingMap = {}

    <!-- generate ids dynamically for each header, that's necessary for tocbot to work, source makeids from tocbot repository -->
    Array.prototype.forEach.call(headings, function (heading) {
        var id = heading.id ? heading.id : heading.textContent.trim().toLowerCase()
            .split(' ').join('-').replace(/[!@#$%^&*():]/ig, '').replace(/\//ig, '-')
        headingMap[id] = !isNaN(headingMap[id]) ? ++headingMap[id] : 0
        if (headingMap[id]) {
            heading.id = id + '-' + headingMap[id]
        } else {
            heading.id = id
        }
        // Add a self-referential link on the header's anchor, easier to share + jump to this anchor if clicked
        heading.innerHTML = "<a href=\"#"+id+"\" onclick=\"jumpToAnchor('"+id+"');\";>"+heading.innerHTML+"</a>"
    })

    function jumpToAnchor(anchorId) {
    // jump to an anchor
    // from: https://stackoverflow.com/a/52138511/1121352
    $(document).ready(function() {
        // Pure JS solution, that doesn't cause the window to go back to the top before sliding to the anchor
        const element = document.querySelector('#'+anchorId)
        const topPos = element.getBoundingClientRect().top + window.pageYOffset

        window.scrollTo({
            top: topPos, // scroll so that the element is at the top of the view
            behavior: 'smooth' // smooth scroll
        })
        // JQuery solution
        /*
        $('html, body').animate({
            'scrollTop':   $('#'+anchorId).offset().top
        }, 500);
        */
        // Ensure the anchor is added in the URL so the user can more easily copy the link and share from the browser's address bar directly
        location.hash = "#" + anchorId;
    });
    }; // }(JQuery);

    <!-- initialize tocbot with some options -->
    tocbot.init({
      // Where to render the table of contents.
      tocSelector: '.js-toc',
      // Where to grab the headings to build the table of contents.
      contentSelector: '.content',
      // Which headings to grab inside of the contentSelector element.
      headingSelector: 'h1, h2, h3, h4, h5, h6',
      // For headings inside relative or absolute positioned containers within content.
      hasInnerContainers: true,
      // Header levels collapsing by default
      collapseDepth: 2,
    });

    <!-- ensure the window is scrolled to the anchor after the page finished loading (else jquery may scroll back to top, particularly on mobile) -->
    document.addEventListener('DOMContentLoaded', function() {
        anchor = window.top.location.hash;
        anchor = anchor.split("#").pop();
        jumpToAnchor(anchor);
    }, false);
    </script>

</body>
</html>
